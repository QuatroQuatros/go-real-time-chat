<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Chat Test - WebSocket</title>
<link rel="stylesheet" href="css/style.css" />
</head>
<body>

    <div class="login-screen" id="loginScreen">
        <h2>Bem-vindo ao Chat</h2>
        <input id="loginUsername" placeholder="Digite seu nome ou continue como guest" />
        <button id="loginBtn">Entrar</button>
    </div>
  <div class="app" id="chatApp" style="display:none">
    <div style="display:flex;align-items:center;gap:12px;margin-bottom:8px;">
      <h3 style="margin:0">Chat Realtime - Test</h3>
      <div class="controls">
        <input id="serverUrl" placeholder="ws://localhost:8080/ws" style="width:260px" />
        <input id="roomInput" placeholder="room (ex: general)" style="width:160px" />
        <input id="username" placeholder="nome (apenas p/testes)" style="width:160px" />
        <button id="connectBtn">Conectar</button>
        <button id="disconnectBtn" class="disconnect" style="display:none">Desconectar</button>
      </div>
    </div>

    <div class="main">
      <div class="sidebar">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;">
          <div class="small">Salas</div>
          <button id="fetchHistoryBtn" class="history-btn small">Carregar histórico</button>
        </div>
        <div class="rooms" id="roomsList">
          <div class="room active" data-room="general"># general</div>
          <div class="room" data-room="random"># random</div>
          <div class="room" data-room="games"># games</div>
          <div class="room" data-room="support"># support</div>
        </div>
        <div class="hint">Dica: edite o campo "ws" e "room" ou clique numa sala para alternar.</div>
      </div>

      <div class="panel">
        <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:8px;">
          <div class="meta">Conectado: <span id="status">não</span></div>
          <div class="meta">Sala: <strong id="currentRoom">general</strong></div>
        </div>

        <div class="messages" id="messages"></div>

        <div class="composer">
          <input id="messageInput" placeholder="Digite sua mensagem..." />
          <button id="sendBtn">Enviar</button>
        </div>
      </div>
    </div>
  </div>

<script src="js/app.js"></script>
</body>
</html>